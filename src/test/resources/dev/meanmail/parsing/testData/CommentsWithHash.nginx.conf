# top-level comment
events {} # inline comment after brace
http {
    # comment in http block
    server {
        listen 80; # inline comment after directive
        server_name example.com; # another inline comment

        location ~* (?:#.*#) { # comment after location with hash regex
            return 403; # inline comment
        }

        set $x value#hash; # this is a comment
    }

    map $uri $result { # comment after map
        # comment inside map block
        ~*#pattern 1; # inline comment in map
        default 0;
    }
}
