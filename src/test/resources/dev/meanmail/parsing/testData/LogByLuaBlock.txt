Nginx configuration file(0,1589)
  DirectiveStmtImpl(DIRECTIVE_STMT)(0,28)
    RegularDirectiveStmtImpl(REGULAR_DIRECTIVE_STMT)(0,28)
      NameStmtImpl(NAME_STMT)(0,15)
        PsiElement(NginxTokenType.IDENTIFIER)('lua_shared_dict')(0,15)
      PsiWhiteSpace(' ')(15,16)
      ValueStmtImpl(VALUE_STMT)(16,24)
        PsiElement(NginxTokenType.IDENTIFIER)('log_dict')(16,24)
      PsiWhiteSpace(' ')(24,25)
      ValueStmtImpl(VALUE_STMT)(25,27)
        PsiElement(NginxTokenType.VALUE)('5M')(25,27)
      PsiElement(NginxTokenType.SEMICOLON)(';')(27,28)
  PsiWhiteSpace('\n\n')(28,30)
  DirectiveStmtImpl(DIRECTIVE_STMT)(30,1589)
    RegularDirectiveStmtImpl(REGULAR_DIRECTIVE_STMT)(30,1589)
      NameStmtImpl(NAME_STMT)(30,36)
        PsiElement(NginxTokenType.IDENTIFIER)('server')(30,36)
      PsiWhiteSpace(' ')(36,37)
      BlockStmtImpl(BLOCK_STMT)(37,1589)
        PsiElement(NginxTokenType.LBRACE)('{')(37,38)
        PsiWhiteSpace('\n    ')(38,43)
        DirectiveStmtImpl(DIRECTIVE_STMT)(43,908)
          LocationDirectiveStmtImpl(LOCATION_DIRECTIVE_STMT)(43,908)
            LocationStmtImpl(LOCATION_STMT)(43,51)
              PsiElement(NginxTokenType.LOCATION)('location')(43,51)
            PsiWhiteSpace(' ')(51,52)
            LocationModifierStmtImpl(LOCATION_MODIFIER_STMT)(52,52)
              <empty list>
            LocationPathStmtImpl(LOCATION_PATH_STMT)(52,53)
              ValueStmtImpl(VALUE_STMT)(52,53)
                PsiElement(NginxTokenType.VALUE)('/')(52,53)
            PsiWhiteSpace(' ')(53,54)
            BlockStmtImpl(BLOCK_STMT)(54,908)
              PsiElement(NginxTokenType.LBRACE)('{')(54,55)
              PsiWhiteSpace('\n        ')(55,64)
              DirectiveStmtImpl(DIRECTIVE_STMT)(64,92)
                RegularDirectiveStmtImpl(REGULAR_DIRECTIVE_STMT)(64,92)
                  NameStmtImpl(NAME_STMT)(64,74)
                    PsiElement(NginxTokenType.IDENTIFIER)('proxy_pass')(64,74)
                  PsiWhiteSpace(' ')(74,75)
                  ValueStmtImpl(VALUE_STMT)(75,91)
                    PsiElement(NginxTokenType.VALUE)('http://mybackend')(75,91)
                  PsiElement(NginxTokenType.SEMICOLON)(';')(91,92)
              PsiWhiteSpace('\n\n        ')(92,102)
              DirectiveStmtImpl(DIRECTIVE_STMT)(102,902)
                LuaDirectiveStmtImpl(LUA_DIRECTIVE_STMT)(102,902)
                  LuaStmtImpl(LUA_STMT)(102,118)
                    PsiElement(NginxTokenType.LUA_BLOCK_DIRECTIVE)('log_by_lua_block')(102,118)
                  PsiWhiteSpace(' ')(118,119)
                  LuaBlockStmtImpl(LUA_BLOCK_STMT)(119,902)
                    PsiElement(NginxTokenType.LBRACE)('{')(119,120)
                    LuaCodeStmtImpl(LUA_CODE_STMT)(120,901)
                      PsiElement(NginxTokenType.LUA)('\n                                     local log_dict = ngx.shared.log_dict\n                                     local upstream_time = tonumber(ngx.var.upstream_response_time)\n\n                                     local sum = log_dict:get("upstream_time-sum") or 0\n                                     sum = sum + upstream_time\n                                     log_dict:set("upstream_time-sum", sum)\n\n                                     local newval, err = log_dict:incr("upstream_time-nb", 1)\n                                     if not newval and err == "not found" then\n                                         log_dict:add("upstream_time-nb", 0)\n                                         log_dict:incr("upstream_time-nb", 1)\n                                     end\n        ')(120,901)
                    PsiElement(NginxTokenType.RBRACE)('}')(901,902)
              PsiWhiteSpace('\n    ')(902,907)
              PsiElement(NginxTokenType.RBRACE)('}')(907,908)
        PsiWhiteSpace('\n\n    ')(908,914)
        DirectiveStmtImpl(DIRECTIVE_STMT)(914,1587)
          LocationDirectiveStmtImpl(LOCATION_DIRECTIVE_STMT)(914,1587)
            LocationStmtImpl(LOCATION_STMT)(914,922)
              PsiElement(NginxTokenType.LOCATION)('location')(914,922)
            PsiWhiteSpace(' ')(922,923)
            LocationModifierStmtImpl(LOCATION_MODIFIER_STMT)(923,924)
              PsiElement(NginxTokenType.EQUAL)('=')(923,924)
            PsiWhiteSpace(' ')(924,925)
            LocationPathStmtImpl(LOCATION_PATH_STMT)(925,932)
              ValueStmtImpl(VALUE_STMT)(925,932)
                PsiElement(NginxTokenType.VALUE)('/status')(925,932)
            PsiWhiteSpace(' ')(932,933)
            BlockStmtImpl(BLOCK_STMT)(933,1587)
              PsiElement(NginxTokenType.LBRACE)('{')(933,934)
              PsiWhiteSpace('\n        ')(934,943)
              DirectiveStmtImpl(DIRECTIVE_STMT)(943,1581)
                LuaDirectiveStmtImpl(LUA_DIRECTIVE_STMT)(943,1581)
                  LuaStmtImpl(LUA_STMT)(943,963)
                    PsiElement(NginxTokenType.LUA_BLOCK_DIRECTIVE)('content_by_lua_block')(943,963)
                  PsiWhiteSpace(' ')(963,964)
                  LuaBlockStmtImpl(LUA_BLOCK_STMT)(964,1581)
                    PsiElement(NginxTokenType.LBRACE)('{')(964,965)
                    LuaCodeStmtImpl(LUA_CODE_STMT)(965,1580)
                      PsiElement(NginxTokenType.LUA)('\n                                     local log_dict = ngx.shared.log_dict\n                                     local sum = log_dict:get("upstream_time-sum")\n                                     local nb = log_dict:get("upstream_time-nb")\n\n                                     if nb and sum then\n                                         ngx.say("average upstream response time: ", sum / nb,\n                                                 " (", nb, " reqs)")\n                                     else\n                                         ngx.say("no data yet")\n                                     end\n        ')(965,1580)
                    PsiElement(NginxTokenType.RBRACE)('}')(1580,1581)
              PsiWhiteSpace('\n    ')(1581,1586)
              PsiElement(NginxTokenType.RBRACE)('}')(1586,1587)
        PsiWhiteSpace('\n')(1587,1588)
        PsiElement(NginxTokenType.RBRACE)('}')(1588,1589)